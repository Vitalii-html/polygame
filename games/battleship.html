<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PoliPlay ‚Äî –ú–æ—Ä—Å—å–∫–∏–π –±—ñ–π</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Inter', sans-serif;
    background: linear-gradient(135deg, #0f0f1a, #1a1a2e);
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    margin:0;
    padding:0;
  }
  header {
    width: 100%;
    padding: 15px 10px;
    text-align: center;
    font-size: 1.6rem;
    backdrop-filter: blur(10px);
    background: rgba(20,20,20,0.6);
    border-bottom: 1px solid rgba(255,255,255,0.1);
    position: sticky;
    top: 0;
    z-index: 10;
  }
  header img.logo { height:30px; vertical-align:middle; margin-right:8px; }
  nav { margin-top: 8px; display:flex; justify-content:center; gap:10px; flex-wrap:wrap; }
  nav a {
    padding:6px 14px; border-radius:20px; background: rgba(255,255,255,0.05); transition:0.3s; font-size:0.9rem;
  }
  nav a:hover {
    background: linear-gradient(90deg, #00ffff, #a100ff);
    box-shadow:0 0 8px #00ffff,0 0 15px #a100ff;
    transform: scale(1.05);
  }
  h2{text-align:center;margin:20px 0;font-size:1.8rem;}
  .boards {
    display: flex; gap:20px; margin-bottom:20px;
    flex-wrap: wrap; justify-content:center;
  }
  .board-container {
    display:grid; grid-template-columns: repeat(8,40px); grid-template-rows: repeat(8,40px); gap:4px;
    background: rgba(255,255,255,0.05); backdrop-filter: blur(8px); border-radius:12px; padding:8px;
    touch-action: manipulation;
    transition: all 0.3s ease;
  }
  .cell {
    background: rgba(255,255,255,0.07); border-radius:6px; cursor:pointer;
    display:flex; justify-content:center; align-items:center; font-weight:bold; font-size:1rem;
    transition:0.25s;
    user-select:none;
  }
  .cell:hover { transform:translateY(-2px) scale(1.05); box-shadow:0 0 6px #00ffff,0 0 12px #a100ff; }
  .hit { background:#ff2e63 !important; box-shadow:0 0 8px #ff2e63; }
  .miss { background:#393e46 !important; box-shadow:0 0 5px #393e46; }
  .player { text-align:center; margin-bottom:8px; font-weight:600; font-size:1rem; }
  .controls { display:flex; gap:12px; margin:20px 0 30px; flex-wrap:wrap; justify-content:center; }
  .controls button {
    padding:10px 18px; border-radius:20px; border:none; background:linear-gradient(90deg,#00ffff,#a100ff);
    color:#000; font-weight:600; cursor:pointer; font-size:0.95rem; transition:0.25s;
  }
  .controls button:hover { box-shadow:0 0 10px #00ffff,0 0 18px #a100ff; transform: translateY(-2px); }

  @media(max-width:768px){
    .board-container{grid-template-columns:repeat(8,35px);grid-template-rows:repeat(8,35px);gap:3px;}
    .cell{font-size:0.9rem;}
    header { font-size:1.4rem; padding:12px 5px;}
    nav a { font-size:0.85rem; padding:5px 12px;}
    .controls button { font-size:0.85rem; padding:8px 14px;}
  }
  @media(max-width:480px){
    .boards{flex-direction:column;gap:25px;}
    .board-container{grid-template-columns:repeat(8,28px);grid-template-rows:repeat(8,28px);gap:3px;}
    .cell{font-size:0.8rem;}
    h2{font-size:1.5rem;}
    .controls button { font-size:0.8rem; padding:7px 12px;}
  }
</style>
</head>
<body>

<header>
  <img src="../icons/logo.png" alt="PoliPlay Logo" class="logo">
  PoliPlay ‚Äî –ú–æ—Ä—Å—å–∫–∏–π –±—ñ–π
  <nav>
    <a href="../index.html">–ì–æ–ª–æ–≤–Ω–∞</a>
    <a href="../all-games.html">–£—Å—ñ —ñ–≥—Ä–∏</a>
    <a href="../rating.html">–†–µ–π—Ç–∏–Ω–≥</a>
    <a href="../about.html">–ü—Ä–æ —Å–∞–π—Ç</a>
  </nav>
</header>

<h2>–ú–æ—Ä—Å—å–∫–∏–π –±—ñ–π</h2>

<div class="boards">
  <div>
    <div class="player">–¢–≤–æ—î –ø–æ–ª–µ</div>
    <div class="board-container" id="playerBoard"></div>
  </div>
  <div>
    <div class="player">–ü–æ–ª–µ –±–æ—Ç–∞</div>
    <div class="board-container" id="botBoard"></div>
  </div>
</div>

<div class="controls">
  <button onclick="showRules()">–ü—Ä–∞–≤–∏–ª–∞</button>
  <button onclick="resetGame()">–ü–æ—á–∞—Ç–∏ –∑–Ω–æ–≤—É</button>
  <button onclick="window.location.href='../index.html'">–í–∏–π—Ç–∏</button>
</div>

<script>
const size = 8;
const playerBoard = document.getElementById('playerBoard');
const botBoard = document.getElementById('botBoard');
let playerShips = [], botShips = [], playerHits = 0, botHits = 0;

const randomInt = max => Math.floor(Math.random()*max);

const placeShips = (num=10)=>{
  const ships=[];
  while(ships.length<num){
    const pos=randomInt(size*size);
    if(!ships.includes(pos)) ships.push(pos);
  }
  return ships;
};

const createBoard = (board, ships, isBot=false)=>{
  board.innerHTML='';
  for(let i=0;i<size*size;i++){
    const cell = document.createElement('div');
    cell.classList.add('cell');
    if(isBot){
      cell.addEventListener('click', ()=>playerMove(cell,i), {once:true});
    } else if(ships.includes(i)) cell.textContent='‚õ¥';
    board.appendChild(cell);
  }
};

const playerMove=(cell,index)=>{
  if(botShips.includes(index)){
    cell.classList.add('hit'); cell.textContent='üí•'; playerHits++;
  } else { cell.classList.add('miss'); cell.textContent='‚Ä¢'; }
  checkWin();
  setTimeout(botMove, 300);
};

const botMove=()=>{
  let index;
  do{ index = randomInt(size*size); } 
  while(playerBoard.children[index].classList.contains('hit') || playerBoard.children[index].classList.contains('miss'));
  const cell=playerBoard.children[index];
  if(playerShips.includes(index)){ cell.classList.add('hit'); cell.textContent='üí•'; botHits++; }
  else { cell.classList.add('miss'); cell.textContent='‚Ä¢'; }
  checkWin();
};

const checkWin=()=>{
  if(playerHits>=botShips.length) setTimeout(()=>alert("üéâ –¢–∏ –≤–∏–≥—Ä–∞–≤!"),100);
  else if(botHits>=playerShips.length) setTimeout(()=>alert("üíÄ –ë–æ—Ç –≤–∏–≥—Ä–∞–≤!"),100);
};

const resetGame=()=>{
  playerShips=placeShips(); botShips=placeShips(); playerHits=0; botHits=0;
  createBoard(playerBoard,playerShips); createBoard(botBoard,botShips,true);
};

const showRules=()=>alert("–ú–µ—Ç–∞ –≥—Ä–∏: –∑–Ω–∞–π—Ç–∏ –≤—Å—ñ –ø—Ä–∏—Ö–æ–≤–∞–Ω—ñ –∫–æ—Ä–∞–±–ª—ñ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞.\–í–ª—É—á–∏–≤ ‚Äî —á–µ—Ä–≤–æ–Ω–∏–π, –ø—Ä–æ–º–∞—Ö ‚Äî —Å—ñ—Ä–∏–π.\–•–æ–¥–∏ –ø–æ —á–µ—Ä–∑—ñ: —Ç–∏ —Å—Ç—Ä—ñ–ª—è—î—à, –±–æ—Ç —Å—Ç—Ä—ñ–ª—è—î –ø–æ —Ç–≤–æ—î–º—É –ø–æ–ª—ñ.");

resetGame();
</script>

</body>
</html>
